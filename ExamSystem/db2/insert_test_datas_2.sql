-- ============================================================================
-- 在线考试系统 2.0 版本测试数据插入脚本
-- 包含 1.0 数据 + 好友关系 + 聊天系统 + 课程管理功能测试数据
-- ============================================================================
USE exam_system;

-- ============================================================================
-- 1.0 版本基础数据（原有数据保持不变，增加扩展字段）
-- ============================================================================

-- 1. 教师数据（李春燕设为选课管理员）
INSERT INTO teachers (teacher_id, name, college, password, is_course_admin) VALUES
(1, '张教授', '计算机学院', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', FALSE),
(2, '李老师', '计算机学院', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', FALSE), 
(3, '王教授', '数学学院', NULL, FALSE),
(10, '李春燕', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8', TRUE), -- 选课管理员
(20, '彭希', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8', FALSE);

-- 2. 学生数据
INSERT INTO students (student_id, name, grade, college, password) VALUES
-- 原有学生
(1, '小明', '2023', '计算机学院', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'), 
(2, '小红', '2023', '计算机学院', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'), 
(3, '小华', '2022', '计算机学院', NULL), 
(4, '小丽', '2023', '软件学院', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'), 
(5, '小强', '2024', '计算机学院', NULL), 
(6, '小芳', '2023', '数学学院', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'),

-- 李春燕班级学生
(2301, '陈思雨', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2302, '王志强', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2303, '刘美琪', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2304, '张晓东', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2305, '赵雅芳', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2306, '孙建华', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2307, '周文静', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2308, '吴俊杰', '2023', '计算机学院', NULL),
(2309, '郑小丽', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2310, '马天宇', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2311, '林梦瑶', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2312, '胡永强', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2313, '罗晓霞', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2314, '蒋文博', '2023', '计算机学院', NULL),
(2315, '沈佳慧', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2316, '韩志明', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2317, '曹雪梅', '2023', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),

-- 彭希班级学生
(2401, '李雨桐', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2402, '陈浩然', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2403, '张欣怡', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2404, '王思远', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2405, '刘静雯', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2406, '赵宇航', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2407, '杨诗涵', '2024', '计算机学院', NULL),
(2408, '黄志豪', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2409, '徐梦琪', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2410, '孟凡宇', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2411, '苏晓月', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2412, '邓振华', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2413, '高婷婷', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2414, '冯建国', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2415, '何美丽', '2024', '计算机学院', NULL),
(2416, '江文华', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'),
(2417, '康雅琴', '2024', '计算机学院', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8');

-- 3. 课程数据（使用扩展字段）
INSERT INTO courses (course_id, teacher_id, college, course_name, description, credits, course_hours, semester, max_students, status) VALUES
(1, 1, '计算机学院', '数据结构', '介绍常用数据结构如栈、队列、树等及其应用', 4, 64, '2024-2025学年第一学期', 40, '开放选课'),
(2, 1, '计算机学院', '算法分析', '分析算法时间复杂度和空间复杂度，介绍常见算法设计策略', 3, 48, '2024-2025学年第一学期', 35, '开放选课'), 
(3, 2, '计算机学院', '数据库原理', '关系数据库基本理论、SQL语言、数据库设计', 4, 64, '2024-2025学年第一学期', 45, '开放选课'),
(4, 2, '计算机学院', 'Java程序设计', 'Java语言基础、面向对象编程、GUI程序设计', 4, 64, '2024-2025学年第一学期', 40, '开放选课'),
(5, 3, '数学学院', '高等数学', '极限、导数、积分、级数等微积分基础知识', 5, 80, '2024-2025学年第一学期', 60, '开放选课'),
(10, 10, '计算机学院', 'C++面向对象程序设计', 'C++语言基础、类与对象、继承与多态、STL容器', 4, 64, '2024-2025学年第一学期', 30, '开放选课'),
(11, 10, '计算机学院', '数据库原理', '数据库系统概论、关系模型、SQL语言、数据库设计', 4, 64, '2024-2025学年第一学期', 35, '开放选课'),
(20, 20, '计算机学院', 'C语言程序设计', 'C语言基础语法、程序设计方法、指针与数组', 3, 48, '2024-2025学年第一学期', 40, '开放选课'),
(21, 20, '计算机学院', '数据结构', '线性表、栈、队列、树、图等数据结构及算法', 4, 64, '2024-2025学年第一学期', 35, '开放选课');

-- 4. 选课数据（使用扩展字段，大部分为已通过状态）
INSERT INTO student_courses (student_id, course_id, exam_score, enrollment_status) VALUES
-- 原有选课（已通过）
(1, 1, 85.5, '已通过'), 
(1, 2, NULL, '已通过'), 
(1, 3, 78.0, '已通过'), 
(2, 1, 92.0, '已通过'), 
(2, 3, NULL, '已通过'), 
(2, 4, 88.5, '已通过'), 
(3, 1, NULL, '已通过'), 
(3, 2, 76.5, '已通过'), 
(4, 3, NULL, '已通过'), 
(4, 4, 90.0, '已通过'), 
(5, 1, NULL, '已通过'), 
(6, 1, 82.0, '已通过'), 
(6, 5, 95.0, '已通过'),

-- 李春燕课程选课
(2301, 10, NULL, '已通过'), (2302, 10, NULL, '已通过'), (2303, 10, NULL, '已通过'), 
(2304, 10, NULL, '已通过'), (2305, 10, NULL, '已通过'), (2306, 10, NULL, '已通过'), 
(2307, 10, NULL, '已通过'), (2308, 10, NULL, '已通过'), (2309, 10, NULL, '已通过'), 
(2310, 10, NULL, '已通过'),
(2303, 11, NULL, '已通过'), (2305, 11, NULL, '已通过'), (2307, 11, NULL, '已通过'),
(2311, 11, NULL, '已通过'), (2312, 11, NULL, '已通过'), (2313, 11, NULL, '已通过'), 
(2314, 11, NULL, '已通过'), (2315, 11, NULL, '已通过'), (2316, 11, NULL, '已通过'), 
(2317, 11, NULL, '已通过'),

-- 彭希课程选课
(2401, 20, 88.5, '已通过'), (2402, 20, NULL, '已通过'), (2403, 20, 92.0, '已通过'), 
(2404, 20, NULL, '已通过'), (2405, 20, NULL, '已通过'), (2406, 20, NULL, '已通过'), 
(2407, 20, NULL, '已通过'), (2408, 20, NULL, '已通过'), (2409, 20, NULL, '已通过'), 
(2410, 20, NULL, '已通过'),
(2403, 21, 85.5, '已通过'), (2405, 21, NULL, '已通过'), (2408, 21, NULL, '已通过'),
(2411, 21, NULL, '已通过'), (2412, 21, NULL, '已通过'), (2413, 21, NULL, '已通过'), 
(2414, 21, NULL, '已通过'), (2415, 21, NULL, '已通过'), (2416, 21, NULL, '已通过'), 
(2417, 21, NULL, '已通过'),

-- 一些申请中的选课（测试选课审核功能）
(2301, 3, NULL, '申请中'),  -- 陈思雨申请数据库原理
(2302, 4, NULL, '申请中'),  -- 王志强申请Java程序设计
(2401, 1, NULL, '申请中'),  -- 李雨桐申请数据结构
(2402, 2, NULL, '申请中'),  -- 陈浩然申请算法分析
(5, 3, NULL, '申请中'),     -- 小强申请数据库原理
(3, 4, NULL, '申请中');     -- 小华申请Java程序设计

-- 5. 题目数据（保持原有结构）
INSERT INTO questions (question_type, course_name, score, content, answer, creator_id, modifier_id, frequency, is_public) VALUES
-- 原有题目
('单选', '数据结构', 5, '以下哪种数据结构遵循先进先出的原则？\nA. 栈\nB. 队列\nC. 链表\nD. 树', 'B', 1, 1, 2, TRUE),
('单选', '数据结构', 5, '二叉树中，具有n个节点的完全二叉树的高度为？\nA. log₂n\nB. ⌊log₂n⌋+1\nC. n\nD. n-1', 'B', 1, 1, 1, TRUE),
('填空', '数据结构', 10, '在顺序栈中，栈顶指针top指向栈顶元素的位置，当栈为空时，top的值为____。', '-1', 1, 1, 0, TRUE),
('简答', '数据结构', 15, '请简述链表相比数组的优缺点。', '优点：动态分配内存，插入删除高效；缺点：不支持随机访问，额外内存开销', 1, 1, 0, TRUE),
('单选', '算法分析', 5, '冒泡排序的时间复杂度是？\nA. O(n)\nB. O(n log n)\nC. O(n²)\nD. O(n³)', 'C', 1, 1, 1, TRUE),
('计算', '算法分析', 20, '分析以下递归函数的时间复杂度：\nint fibonacci(int n) {\n    if (n <= 1) return n;\n    return fibonacci(n-1) + fibonacci(n-2);\n}', 'T(n) = T(n-1) + T(n-2) + O(1)，时间复杂度为O(2^n)', 1, 1, 0, TRUE),
('单选', '数据库原理', 5, 'SQL中用于查询数据的关键字是？\nA. INSERT\nB. UPDATE\nC. SELECT\nD. DELETE', 'C', 2, 2, 3, TRUE),
('多选', '数据库原理', 10, '关系数据库的ACID特性包括？\nA. 原子性(Atomicity)\nB. 一致性(Consistency)\nC. 隔离性(Isolation)\nD. 持久性(Durability)\nE. 可用性(Availability)', 'ABCD', 2, 2, 1, TRUE),
('简答', '数据库原理', 15, '请解释什么是数据库范式，并说明第一范式的要求。', '数据库范式是设计关系数据库时遵循的规范。第一范式要求关系中的每个属性都是不可分割的原子值。', 2, 2, 0, TRUE),
('单选', 'Java程序设计', 5, 'Java中哪个关键字用于继承？\nA. implements\nB. extends\nC. inherits\nD. super', 'B', 2, 2, 2, TRUE),
('填空', 'Java程序设计', 10, 'Java中，____方法是程序的入口点。', 'main', 2, 2, 1, TRUE),
('单选', '高等数学', 5, '函数f(x)=x²在x=0处的导数是？\nA. 0\nB. 1\nC. 2\nD. 不存在', 'A', 3, 3, 1, TRUE),
('计算', '高等数学', 15, '计算定积分∫₀¹ x²dx', '∫₀¹ x²dx = [x³/3]₀¹ = 1/3 - 0 = 1/3', 3, 3, 0, TRUE),
('单选', '数据结构', 5, '这是张教授的私有题目，关于红黑树的性质', '私有题目答案', 1, 1, 0, FALSE),
('简答', '数据库原理', 20, '李老师的高级数据库题目（未公开）', '高级答案内容', 2, 2, 0, FALSE),

-- 李春燕老师的题目
('单选', 'C++面向对象程序设计', 5, 'C++中哪个关键字用于定义类？\nA. struct\nB. class\nC. object\nD. type', 'B', 10, 10, 0, TRUE),
('单选', 'C++面向对象程序设计', 5, '下列哪个是C++的访问控制符？\nA. public\nB. private\nC. protected\nD. 以上都是', 'D', 10, 10, 0, TRUE),
('填空', 'C++面向对象程序设计', 10, 'C++中，构造函数的名称必须与____相同。', '类名', 10, 10, 0, TRUE),
('简答', 'C++面向对象程序设计', 15, '请简述C++中继承的概念及其作用。', '继承是面向对象编程的重要特性，允许一个类获得另一个类的属性和方法，实现代码复用和层次化设计。', 10, 10, 0, TRUE),
('计算', 'C++面向对象程序设计', 20, '编写一个简单的C++类Student，包含姓名和年龄两个私有成员变量，以及相应的构造函数和访问函数。', 'class Student {\nprivate:\n    string name;\n    int age;\npublic:\n    Student(string n, int a) : name(n), age(a) {}\n    string getName() { return name; }\n    int getAge() { return age; }\n};', 10, 10, 0, TRUE),

-- 彭希老师的题目
('单选', 'C语言程序设计', 5, 'C语言中，下列哪个是正确的变量命名？\nA. 2var\nB. var-name\nC. var_name\nD. var name', 'C', 20, 20, 0, TRUE),
('单选', 'C语言程序设计', 5, 'C语言中printf函数的返回值类型是？\nA. void\nB. char\nC. int\nD. float', 'C', 20, 20, 0, TRUE),
('填空', 'C语言程序设计', 10, 'C语言中，用于输入整数的格式控制符是____。', '%d', 20, 20, 0, TRUE),
('简答', 'C语言程序设计', 15, '请解释C语言中指针的概念及其作用。', '指针是一个变量，其值为另一个变量的地址。指针的作用包括：动态内存分配、函数参数传递、数据结构实现等。', 20, 20, 0, TRUE),
('计算', 'C语言程序设计', 20, '编写一个C语言函数，计算数组中所有元素的和。函数原型：int sum(int arr[], int n)', 'int sum(int arr[], int n) {\n    int total = 0;\n    for(int i = 0; i < n; i++) {\n        total += arr[i];\n    }\n    return total;\n}', 20, 20, 0, TRUE);

-- 6. 题目收藏数据
INSERT INTO question_favorites (question_id, teacher_id) VALUES
(7, 1), (8, 1), (10, 1),  -- 张教授收藏
(1, 2), (2, 2), (4, 2),   -- 李老师收藏
(1, 3), (5, 3),           -- 王教授收藏
(1, 10), (7, 10), (10, 10), -- 李春燕收藏
(1, 20), (2, 20), (5, 20), (16, 20), (19, 20); -- 彭希收藏

-- 7. 考试数据
INSERT INTO exams (exam_name, course_id, exam_date, start_time, end_time, total_score, is_published, is_completed) VALUES
('数据结构期中考试', 1, '2024-11-15', '09:00:00', '11:00:00', 100, TRUE, TRUE),
('Java程序设计第一次测验', 4, '2024-11-20', '14:00:00', '15:30:00', 50, TRUE, TRUE),
('数据库原理期中考试', 3, '2024-12-20', '09:00:00', '11:00:00', 80, TRUE, TRUE),
('算法分析单元测试', 2, '2024-12-25', '10:00:00', '12:00:00', 60, TRUE, TRUE),
('高等数学期末考试', 5, '2025-01-10', '09:00:00', '11:00:00', 120, FALSE, FALSE),
('C++面向对象程序设计期中考试', 10, '2024-12-15', '09:00:00', '11:00:00', 100, FALSE, FALSE),
('数据库原理期末考试', 11, '2024-12-20', '14:00:00', '16:30:00', 120, FALSE, FALSE),
('C语言程序设计期中考试', 20, '2024-12-18', '10:00:00', '12:00:00', 80, FALSE, FALSE),
('数据结构第一次月考', 21, '2024-12-22', '15:00:00', '17:00:00', 100, FALSE, FALSE);

-- 8. 考试权限数据
INSERT INTO exam_permissions (exam_id, teacher_id, is_creator) VALUES
(1, 1, TRUE), (2, 2, TRUE), (3, 2, TRUE), (4, 1, TRUE), (5, 3, TRUE),
(6, 10, TRUE), (7, 10, TRUE), (8, 20, TRUE), (9, 20, TRUE),
(1, 2, FALSE), (3, 1, FALSE); -- 分享权限

-- ============================================================================
-- 2.0 版本新增数据（好友关系）
-- ============================================================================

-- 9. 好友关系数据
INSERT INTO friend_relationships (user1_id, user1_type, user2_id, user2_type) VALUES
-- 老师之间的好友关系
(10, '老师', 20, '老师'),  -- 李春燕和彭希是好友
(1, '老师', 10, '老师'),   -- 张教授和李春燕是好友
(2, '老师', 20, '老师'),   -- 李老师和彭希是好友

-- 师生好友关系
(10, '老师', 2301, '学生'), -- 李春燕和陈思雨
(10, '老师', 2303, '学生'), -- 李春燕和刘美琪
(20, '老师', 2401, '学生'), -- 彭希和李雨桐
(20, '老师', 2403, '学生'), -- 彭希和张欣怡

-- 学生之间的好友关系（同班同学）
(2301, '学生', 2302, '学生'), -- 陈思雨和王志强
(2301, '学生', 2303, '学生'), -- 陈思雨和刘美琪
(2302, '学生', 2304, '学生'), -- 王志强和张晓东
(2303, '学生', 2305, '学生'), -- 刘美琪和赵雅芳
(2401, '学生', 2402, '学生'), -- 李雨桐和陈浩然
(2401, '学生', 2403, '学生'), -- 李雨桐和张欣怡
(2402, '学生', 2404, '学生'), -- 陈浩然和王思远
(2403, '学生', 2405, '学生'), -- 张欣怡和刘静雯

-- 跨班级好友关系
(2303, '学生', 2403, '学生'), -- 刘美琪(2023级)和张欣怡(2024级)
(2305, '学生', 2405, '学生'), -- 赵雅芳(2023级)和刘静雯(2024级)
(1, '学生', 2301, '学生'),     -- 小明和陈思雨
(2, '学生', 2401, '学生');     -- 小红和李雨桐

-- 10. 好友申请数据（部分待处理）
INSERT INTO friend_requests (requester_id, requester_type, target_id, target_type, status) VALUES
-- 已同意的申请（这些会自动转为好友关系，但保留记录）
(10, '老师', 20, '老师', '已同意'),
(2301, '学生', 2302, '学生', '已同意'),
(2401, '学生', 2402, '学生', '已同意'),

-- 申请中的好友请求
(2306, '学生', 10, '老师', '申请中'),  -- 孙建华申请加李春燕为好友
(2406, '学生', 20, '老师', '申请中'),  -- 赵宇航申请加彭希为好友
(2307, '学生', 2308, '学生', '申请中'), -- 周文静申请加吴俊杰为好友
(2407, '学生', 2408, '学生', '申请中'), -- 杨诗涵申请加黄志豪为好友
(3, '老师', 10, '老师', '申请中'),      -- 王教授申请加李春燕为好友
(2309, '学生', 2409, '学生', '申请中'), -- 郑小丽申请加徐梦琪为好友
(2310, '学生', 2410, '学生', '申请中'); -- 马天宇申请加孟凡宇为好友

-- ============================================================================
-- 2.0 版本新增数据（聊天系统）
-- ============================================================================

-- 11. 私聊关系数据（基于好友关系创建）
INSERT INTO private_chats (user1_id, user1_type, user2_id, user2_type, last_message_time) VALUES
(10, '老师', 20, '老师', '2024-12-01 10:30:00'),  -- 李春燕和彭希的私聊
(1, '老师', 10, '老师', '2024-12-01 09:15:00'),   -- 张教授和李春燕的私聊
(10, '老师', 2301, '学生', '2024-12-01 14:20:00'), -- 李春燕和陈思雨的私聊
(20, '老师', 2401, '学生', '2024-12-01 16:45:00'), -- 彭希和李雨桐的私聊
(2301, '学生', 2302, '学生', '2024-12-01 20:30:00'), -- 陈思雨和王志强的私聊
(2401, '学生', 2402, '学生', '2024-12-01 21:15:00'), -- 李雨桐和陈浩然的私聊
(2303, '学生', 2403, '学生', '2024-12-01 19:45:00'); -- 刘美琪和张欣怡的私聊

-- 12. 群聊数据
INSERT INTO group_chats (group_id, group_name, creator_id, creator_type, member_count) VALUES
(1, 'C++面向对象班级群', 10, '老师', 8),  -- 李春燕创建的C++班级群（不包含全部学生）
(2, 'C语言程序设计班级群', 20, '老师', 7), -- 彭希创建的C语言班级群（不包含全部学生）
(3, '计算机学院2023级交流群', 2301, '学生', 6), -- 学生创建的年级群
(4, '数据库学习小组', 2403, '学生', 5),  -- 学生创建的学习群
(5, '计算机学院教师交流群', 1, '老师', 4); -- 张教授创建的教师群

-- 13. 群聊成员数据
INSERT INTO group_members (group_id, user_id, user_type) VALUES
-- C++面向对象班级群（8人，不包含全部课程学生）
(1, 10, '老师'),    -- 李春燕（创建者）
(1, 2301, '学生'),  -- 陈思雨
(1, 2302, '学生'),  -- 王志强
(1, 2303, '学生'),  -- 刘美琪
(1, 2304, '学生'),  -- 张晓东
(1, 2305, '学生'),  -- 赵雅芳
(1, 2306, '学生'),  -- 孙建华
(1, 2307, '学生'),  -- 周文静

-- C语言程序设计班级群（7人，不包含全部课程学生）
(2, 20, '老师'),    -- 彭希（创建者）
(2, 2401, '学生'),  -- 李雨桐
(2, 2402, '学生'),  -- 陈浩然
(2, 2403, '学生'),  -- 张欣怡
(2, 2404, '学生'),  -- 王思远
(2, 2405, '学生'),  -- 刘静雯
(2, 2406, '学生'),  -- 赵宇航

-- 计算机学院2023级交流群（6人）
(3, 2301, '学生'),  -- 陈思雨（创建者）
(3, 2302, '学生'),  -- 王志强
(3, 2303, '学生'),  -- 刘美琪
(3, 2305, '学生'),  -- 赵雅芳
(3, 2309, '学生'),  -- 郑小丽
(3, 2310, '学生'),  -- 马天宇

-- 数据库学习小组（5人）
(4, 2403, '学生'),  -- 张欣怡（创建者）
(4, 2303, '学生'),  -- 刘美琪
(4, 2305, '学生'),  -- 赵雅芳
(4, 2311, '学生'),  -- 林梦瑶
(4, 2313, '学生'),  -- 罗晓霞

-- 计算机学院教师交流群（4人）
(5, 1, '老师'),     -- 张教授（创建者）
(5, 2, '老师'),     -- 李老师
(5, 10, '老师'),    -- 李春燕
(5, 20, '老师');    -- 彭希

-- 14. 统一消息数据
INSERT INTO messages (chat_type, chat_id, sender_id, sender_type, content, send_time) VALUES
-- 私聊消息
('私聊', 1, 10, '老师', '彭希老师，下周的教研活动你有时间参加吗？', '2024-12-01 10:30:00'),
('私聊', 1, 20, '老师', '有时间的，具体是什么主题？', '2024-12-01 10:32:00'),
('私聊', 1, 10, '老师', '主要讨论程序设计课程的教学改革', '2024-12-01 10:35:00'),

('私聊', 2, 1, '老师', '李老师，关于期末考试安排有什么建议？', '2024-12-01 09:15:00'),
('私聊', 2, 10, '老师', '我觉得可以适当增加一些实践题目', '2024-12-01 09:18:00'),

('私聊', 3, 2301, '学生', '老师，今天的作业我有个问题想请教', '2024-12-01 14:20:00'),
('私聊', 3, 10, '老师', '好的，什么问题？', '2024-12-01 14:22:00'),
('私聊', 3, 2301, '学生', '关于继承的概念还不太理解', '2024-12-01 14:25:00'),

('私聊', 5, 2301, '学生', '志强，明天的C++实验课你做完了吗？', '2024-12-01 20:30:00'),
('私聊', 5, 2302, '学生', '还没有，你做到哪一步了？', '2024-12-01 20:32:00'),
('私聊', 5, 2301, '学生', '我刚做完第二题，第三题有点难', '2024-12-01 20:35:00'),

-- 群聊消息
('群聊', 1, 10, '老师', '大家好！欢迎加入C++面向对象班级群', '2024-11-25 09:00:00'),
('群聊', 1, 2301, '学生', '谢谢老师！', '2024-11-25 09:01:00'),
('群聊', 1, 10, '老师', '下周二的课程调整到周四同一时间', '2024-11-30 10:00:00'),
('群聊', 1, 2302, '学生', '收到！', '2024-11-30 10:01:00'),
('群聊', 1, 2303, '学生', '好的老师', '2024-11-30 10:02:00'),

('群聊', 2, 20, '老师', '各位同学，C语言期中考试安排已出，请查看课程通知', '2024-11-28 15:00:00'),
('群聊', 2, 2401, '学生', '老师，考试重点是什么？', '2024-11-28 15:05:00'),
('群聊', 2, 20, '老师', '主要是前八章的内容，特别是指针和数组', '2024-11-28 15:08:00'),

('群聊', 3, 2301, '学生', '大家好，建这个群是为了方便同级交流学习', '2024-11-20 20:00:00'),
('群聊', 3, 2302, '学生', '好主意！', '2024-11-20 20:01:00'),
('群聊', 3, 2303, '学生', '有什么学习资料可以在这里分享', '2024-11-20 20:05:00'),

('群聊', 5, 1, '老师', '各位老师，下周五下午有个教学研讨会', '2024-11-29 16:00:00'),
('群聊', 5, 2, '老师', '主题是什么？', '2024-11-29 16:02:00'),
('群聊', 5, 10, '老师', '我可以分享一下C++教学的经验', '2024-11-29 16:05:00'),
('群聊', 5, 20, '老师', '我也想参加，学习一下', '2024-11-29 16:08:00');

-- 15. 群聊申请数据
INSERT INTO group_requests (group_id, requester_id, requester_type, status) VALUES
-- 申请中的群聊请求
(1, 2308, '学生', '申请中'),  -- 吴俊杰申请加入C++班级群
(1, 2309, '学生', '申请中'),  -- 郑小丽申请加入C++班级群
(2, 2407, '学生', '申请中'),  -- 杨诗涵申请加入C语言班级群
(2, 2408, '学生', '申请中'),  -- 黄志豪申请加入C语言班级群
(3, 2311, '学生', '申请中'),  -- 林梦瑶申请加入2023级交流群
(4, 2315, '学生', '申请中'),  -- 沈佳慧申请加入数据库学习小组
(5, 3, '老师', '申请中'),     -- 王教授申请加入教师交流群

-- 已同意的申请（这些用户已经是群成员）
(1, 2301, '学生', '已同意'),
(2, 2401, '学生', '已同意'),
(3, 2302, '学生', '已同意');

-- ============================================================================
-- 2.0 版本新增数据（课程管理）
-- ============================================================================

-- 16. 课程通知数据
INSERT INTO course_notices (course_id, title, content, is_pinned) VALUES
-- 李春燕的C++课程通知
(10, '期中考试安排通知', 'C++面向对象程序设计期中考试定于12月15日上午9:00-11:00举行，考试内容包括前六章内容，请同学们认真复习。', TRUE),
(10, '实验课调整通知', '本周四的实验课调整到机房B205，请同学们注意教室变更。', FALSE),
(10, '作业提交提醒', '第三次作业截止时间为本周日晚23:59，请还未提交的同学抓紧时间。', FALSE),

-- 李春燕的数据库课程通知
(11, '课程设计安排', '数据库课程设计题目已发布，分组情况请查看附件，截止时间为1月15日。', TRUE),
(11, '期末复习重点', '期末考试重点：ER图设计、SQL查询、事务处理、数据库安全等章节。', TRUE),

-- 彭希的C语言课程通知
(20, '期中考试成绩公布', 'C语言程序设计期中考试成绩已公布，请登录系统查看详细分数。', FALSE),
(20, '编程竞赛通知', '学院将举办C语言编程竞赛，有兴趣的同学可以报名参加。', FALSE),

-- 彭希的数据结构课程通知
(21, '算法演示课', '下周二将进行排序算法的现场演示，请同学们提前预习相关内容。', FALSE),
(21, '课程进度调整', '由于实验课时间冲突，数据结构课程进度略有调整，详见课程表。', FALSE),

-- 其他课程通知
(1, '数据结构实验安排', '下周开始数据结构实验课，请同学们提前安装开发环境。', FALSE),
(3, '数据库项目展示', '期末数据库项目展示时间安排已出，请各组做好准备。', TRUE);

-- 17. 课程作业数据
INSERT INTO course_assignments (course_id, title, description, deadline, max_score, status) VALUES
-- 李春燕的C++课程作业
(10, 'C++类设计练习', '设计一个学生管理系统的Student类，包含基本信息和成绩管理功能。要求：\n1. 私有成员变量：姓名、学号、成绩数组\n2. 公有成员函数：构造函数、析构函数、成绩录入、平均分计算\n3. 提交源代码和运行截图', '2024-12-08 23:59:00', 100, '已截止'),

(10, 'C++继承与多态实践', '实现一个图形类的继承体系：\n1. 基类Shape：包含虚函数area()和perimeter()\n2. 派生类Circle、Rectangle、Triangle\n3. 使用多态特性计算不同图形的面积和周长', '2024-12-15 23:59:00', 100, '开放提交'),

(10, 'STL容器应用', '使用STL容器实现一个简单的图书管理系统，要求使用vector、map等容器，实现图书的增删改查功能。', '2024-12-22 23:59:00', 100, '开放提交'),

-- 李春燕的数据库课程作业
(11, 'ER图设计作业', '针对给定的学生选课系统需求，设计完整的ER图，并转换为关系模式。要求：\n1. 实体关系清晰\n2. 属性定义准确\n3. 主键外键标注明确', '2024-12-10 23:59:00', 80, '已截止'),

(11, 'SQL查询练习', '完成指定数据库的20道SQL查询题，包括单表查询、多表连接、子查询、聚合函数等。', '2024-12-20 23:59:00', 100, '开放提交'),

-- 彭希的C语言课程作业
(20, 'C语言基础编程', '编写程序解决以下问题：\n1. 计算斐波那契数列前n项\n2. 判断一个数是否为素数\n3. 实现简单的排序算法', '2024-12-05 23:59:00', 80, '已截止'),

(20, '指针与数组应用', '使用指针和数组实现字符串处理函数：\n1. 字符串长度计算\n2. 字符串复制\n3. 字符串比较\n4. 字符串反转', '2024-12-18 23:59:00', 100, '开放提交'),

-- 彭希的数据结构课程作业
(21, '线性表实现', '用C语言实现顺序表和链表的基本操作：\n1. 创建、插入、删除、查找\n2. 比较两种实现的优缺点\n3. 分析时间复杂度', '2024-12-12 23:59:00', 90, '已截止'),

(21, '栈和队列应用', '使用栈实现表达式求值，使用队列实现约瑟夫问题的求解。要求有完整的测试用例。', '2024-12-25 23:59:00', 100, '开放提交');

-- 18. 作业提交数据
INSERT INTO assignment_submissions (assignment_id, student_id, content, score, feedback, grade_time, status) VALUES
-- C++类设计练习的提交（已截止作业）
(1, 2301, '```cpp\nclass Student {\nprivate:\n    string name;\n    string id;\n    vector<double> scores;\npublic:\n    Student(string n, string i) : name(n), id(i) {}\n    void addScore(double score) { scores.push_back(score); }\n    double getAverage() {\n        if(scores.empty()) return 0;\n        double sum = 0;\n        for(double s : scores) sum += s;\n        return sum / scores.size();\n    }\n};\n```', 95.0, '代码实现正确，逻辑清晰，建议增加输入验证。', '2024-12-09 10:00:00', '已批改'),

(1, 2302, '```cpp\nclass Student {\nprivate:\n    string name;\n    int id;\n    double scores[10];\n    int scoreCount;\npublic:\n    Student(string n, int i) : name(n), id(i), scoreCount(0) {}\n    void addScore(double score) {\n        if(scoreCount < 10) scores[scoreCount++] = score;\n    }\n    double calculateAverage() {\n        if(scoreCount == 0) return 0;\n        double total = 0;\n        for(int i = 0; i < scoreCount; i++) total += scores[i];\n        return total / scoreCount;\n    }\n};\n```', 88.0, '基本功能实现正确，但数组大小固定，灵活性不够。', '2024-12-09 11:30:00', '已批改'),

(1, 2303, '```cpp\nclass Student {\nprivate:\n    string name, studentId;\n    vector<double> grades;\npublic:\n    Student(string name, string id) : name(name), studentId(id) {}\n    ~Student() { cout << "Student destroyed" << endl; }\n    void inputScore(double score) {\n        if(score >= 0 && score <= 100) grades.push_back(score);\n    }\n    double getAverageScore() {\n        double sum = 0;\n        for(auto grade : grades) sum += grade;\n        return grades.empty() ? 0 : sum / grades.size();\n    }\n};\n```', 92.0, '代码规范，有输入验证和析构函数，很好！', '2024-12-09 14:20:00', '已批改'),

-- ER图设计作业的提交（数据库课程）
(4, 2303, '学生选课系统ER图设计：\n\n实体：\n1. 学生(student_id, name, grade, major)\n2. 课程(course_id, course_name, credits, teacher)\n3. 选课(student_id, course_id, grade, semester)\n\n关系：\n- 学生-选课：一对多\n- 课程-选课：一对多\n\n主键：student_id, course_id\n外键：选课表中的student_id, course_id', 75.0, 'ER图设计基本正确，但缺少一些重要属性，关系描述可以更详细。', '2024-12-11 09:00:00', '已批改'),

(4, 2305, '详细的ER图设计文档已提交，包含完整的实体关系图、属性说明和约束条件。设计了学生、教师、课程、选课等实体，关系清晰明确。', 85.0, '设计思路清晰，实体关系正确，建议增加一些完整性约束的说明。', '2024-12-11 10:30:00', '已批改'),

-- C语言基础编程的提交（彭希的课程）
(6, 2401, 'C语言基础编程作业提交：\n\n1. 斐波那契数列：使用递归和循环两种方法实现\n2. 素数判断：优化算法，只检查到sqrt(n)\n3. 排序算法：实现了冒泡排序和选择排序\n\n代码运行正确，有详细注释。', 90.0, '代码实现正确，逻辑清晰，注释详细，非常好！', '2024-12-06 15:00:00', '已批改'),

(6, 2402, '提交了三个程序的源代码，基本功能实现正确，但代码注释较少，变量命名不够规范。', 78.0, '功能实现正确，建议增加注释和改善代码风格。', '2024-12-06 16:00:00', '已批改'),

(6, 2403, '完整实现了所有要求的功能，代码结构清晰，还额外实现了快速排序算法作为扩展内容。', 95.0, '优秀的完成质量，扩展内容很好，建议继续保持！', '2024-12-06 14:30:00', '已批改'),

-- 线性表实现的提交（数据结构课程）
(8, 2403, '顺序表和链表的完整实现，包含所有基本操作，时间复杂度分析准确，测试用例完整。', 88.0, '实现正确，分析到位，测试充分。', '2024-12-13 10:00:00', '已批改'),

(8, 2405, '实现了基本功能，但链表的删除操作有内存泄漏问题，时间复杂度分析不够深入。', 72.0, '基本功能正确，注意内存管理和复杂度分析。', '2024-12-13 11:00:00', '已批改'),

-- 未提交的作业（显示为已提交但未批改）
(2, 2301, '继承与多态实践作业：实现了Shape基类和三个派生类，使用虚函数和多态特性，代码编译运行正常。', NULL, NULL, NULL, '已提交'),
(2, 2302, '图形类继承体系实现完成，包含面积和周长计算，有详细的测试代码。', NULL, NULL, NULL, '已提交'),
(5, 2303, 'SQL查询练习：完成了18道题目，包含各种查询类型，部分复杂查询可能需要优化。', NULL, NULL, NULL, '已提交'),
(7, 2401, '指针与数组应用：实现了字符串处理函数，测试通过，代码有详细注释。', NULL, NULL, NULL, '已提交');

-- ============================================================================
-- 数据统计查询
-- ============================================================================

-- 查看插入结果统计
SELECT '教师总数' as 统计项, COUNT(*) as 数量 FROM teachers
UNION ALL
SELECT '学生总数', COUNT(*) FROM students  
UNION ALL
SELECT '课程总数', COUNT(*) FROM courses
UNION ALL
SELECT '选课记录', COUNT(*) FROM student_courses
UNION ALL
SELECT '申请中选课', COUNT(*) FROM student_courses WHERE enrollment_status = '申请中'
UNION ALL
SELECT '题目总数', COUNT(*) FROM questions
UNION ALL
SELECT '考试总数', COUNT(*) FROM exams
UNION ALL
SELECT '好友关系', COUNT(*) FROM friend_relationships
UNION ALL
SELECT '待处理好友申请', COUNT(*) FROM friend_requests WHERE status = '申请中'
UNION ALL
SELECT '群聊总数', COUNT(*) FROM group_chats
UNION ALL
SELECT '群聊成员', COUNT(*) FROM group_members
UNION ALL
SELECT '消息总数', COUNT(*) FROM messages
UNION ALL
SELECT '待处理群聊申请', COUNT(*) FROM group_requests WHERE status = '申请中'
UNION ALL
SELECT '课程通知', COUNT(*) FROM course_notices
UNION ALL
SELECT '课程作业', COUNT(*) FROM course_assignments
UNION ALL
SELECT '作业提交', COUNT(*) FROM assignment_submissions
UNION ALL
SELECT '已批改作业', COUNT(*) FROM assignment_submissions WHERE status = '已批改';

-- 显示所有表
SHOW TABLES;